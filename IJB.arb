#!/usr/bin/env ruby

def check
  prompt_to_set_args unless File.exist?("/etc/dynaruby.conf")
end

def prompt_to_set_args
  puts "You already have a config file. Want to create a new one? [y(es)/n(o)]"
  set_args_or_exit
end

def set_args_or_exit
  answer = get_validated_input(%w[y yes n no], "Invalid input. Please enter 'y(es)' or 'n(o)'")
  answer.start_with?("y") ? set_args : (answer.start_with?("n") && exit)
end

def get_validated_input(valid_inputs, error_message)
  loop do
    input = gets.chomp.downcase
    return input if valid_inputs.include?(input)
    puts error_message
  end
end

def set_args
  puts "hello, you reached this method"
end

def exit
  puts "Exiting."
  super
end

check
